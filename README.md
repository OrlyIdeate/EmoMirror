
# 感情ミラーAI日記

このアプリは、ユーザーの感情を日記として記録し、AIが分析・共感・可視化することで心理的セルフケアと自己理解を促すサービスです。

## 開発目的
- ユーザーの感情を記録・可視化・分析し、前向きな気持ちや自己理解の促進を目指します。

## 想定ユーザー
- 10〜20代前半の学生・若年層
- 自身の感情整理やポジティブな気持ち維持を求めるユーザー

## 技術スタック・システム構成

| 要素        | 技術           | 主な役割 |
|-------------|----------------|--------|
| フロント    | Streamlit      | 入力画面/解析結果表示 |
| サーバ/API  | Python, FastAPI| OpenAI・Firebase連携 |
| AI処理      | OpenAI API (GPT-4-mini) | 感情分析・応答生成 |
| データベース| Firebase Firestore | ユーザー・日記・解析結果保存 |
| 認証        | Firebase Authentication | Google/匿名ログイン |
| デプロイ    | Streamlit Cloud | 公開・テスト運用 |

## 主な機能

- 日記入力（テキスト／音声）、「今日の気持ちを送信」ボタン
- AIによる感情解析（喜・怒・哀・楽・不安・平静）
- AI共感コメント・要約の表示
- 履歴保存と過去7日感情のグラフ表示（棒グラフ／円グラフ）
- Firebaseで履歴再読・AI再分析
- 認証（Googleログイン／匿名）

## 非機能要件

- OpenAI API応答5秒以内
- スマホ・PC対応（PWA非対応でOK）
- Firebase認証＆DBルール設定
- 1ユーザーにつき100件まで保存

## チーム分担

| メンバー | 主担当       | 担当機能                             |
|----------|--------------|--------------------------------------|
| A        | フロントエンド | Streamlit UI（入力・出力・履歴）      |
| B        | バックエンド  | OpenAI API連携・感情解析ロジック      |
| C        | データ管理    | Firebase設定・データ保存・認証        |

## 開発スケジュール（計30時間）

| フェーズ | 工数 | 内容                             |
|----------|------|----------------------------------|
| 設計     | 3h   | 画面構成・データ項目設計         |
| 実装     | 20h  | Streamlit/API・Firebase連携実装   |
| テスト   | 7h   | 保存/表示・デプロイ・最終調整    |

## スタート手順

1. リポジトリをclone
2. 仮想環境venv作成
    ```bash
    python -m venv .venv
    ```

3. 必要ライブラリをインストール
    ```bash
    pip install -r requirements.txt
    ```

4. venvの起動
    ```bash
    .\.venv\Scripts\activate  
    ```

    権限問題でコマンドを受け付けない場合
    ```bush
    Set-ExecutionPolicy AllSigned -Scope CurrentUser 
    ```

5. streamlit起動・動作確認
    ```bush
    streamlit run ファイル名
    ```

